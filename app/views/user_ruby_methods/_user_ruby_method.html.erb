<div class="method-item md:w-3/4 mb-12 bg-stone-50 shadow-md rounded-lg p-3 mb-4" id="<%= dom_id user_ruby_method %>">
  <div class="flex mb-3">
    <p class="text-xl me-3">
      <%= user_ruby_method.ruby_method.ruby_module.name %>
    </p>
    <p>
      <%= link_to '✏️', edit_user_ruby_method_path(user_ruby_method), class: "text-xl w-13 mx-1 leading-15" %>
    </p>
      <p class="ms-2 mt-1 badge badge-outline">
        <%= convert_remembered_word(user_ruby_method) %>
      </p>
  </div>

  <p id="<%= user_ruby_method.ruby_method.name %>" class="text-blue-900 underline text-2xl cursor-pointer">
    <%= user_ruby_method.ruby_method.name %>
  </p>
  <iframe
    id="<%= user_ruby_method.ruby_method.name %>-url"
    class="w-full h-96 hidden"
    src="<%= user_ruby_method.ruby_method.official_url %>"
  ></iframe>

  <% if user_ruby_method.memo %>
    <p class="my-5">
      <strong class="block font-bold">メモ</strong>
      <%= add_new_line(user_ruby_method.memo) %>
    </p>
  <% end %>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const methodName = document.getElementById("<%= user_ruby_method.ruby_method.name %>");
    const iframe = document.getElementById("<%= user_ruby_method.ruby_method.name %>-url");

    methodName.addEventListener("click", () => {
      iframe.classList.toggle("hidden");
    });
  });
</script>
